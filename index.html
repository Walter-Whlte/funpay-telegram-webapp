
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>FunPay Manager</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Arial; padding: 15px; }
        .btn { 
            background: #0088cc; color: white; 
            padding: 10px; margin: 5px 0; 
            border: none; border-radius: 5px;
            width: 100%;
        }
        #data { margin-top: 15px; }
    </style>
</head>
<body>
    <h2>FunPay Control</h2>
    
    <button class="btn" onclick="loadOrders()">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–∫–∞–∑—ã</button>
    <button class="btn" onclick="checkBalance()">üí∞ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
    
    <div id="data">–î–∞–Ω–Ω—ã–µ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...</div>

    <script>
        // –í–∞—à GoldenKey (—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ!)
        const GOLDEN_KEY = "j2n31huvea8ofzvo77oczqsx7fne0ebf"; 

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤
        async function loadOrders() {
            try {
                const response = await fetch('https://funpay.com/orders/api/list', {
                    headers: {
                        'golden-key': GOLDEN_KEY,
                        'Accept': 'application/json'
                    }
                });
                const orders = await response.json();
                document.getElementById('data').innerHTML = 
                    `<pre>${JSON.stringify(orders, null, 2)}</pre>`;
                
                // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç–∞
                Telegram.WebApp.sendData(JSON.stringify({
                    action: "orders_loaded",
                    count: orders.length
                }));
            } catch (e) {
                alert("–û—à–∏–±–∫–∞: " + e.message);
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
        async function checkBalance() {
            const balance = await fetch('https://funpay.com/api/balance', {
                headers: { 'golden-key': GOLDEN_KEY }
            }).then(r => r.json());
            
            document.getElementById('data').innerHTML = 
                `–ë–∞–ª–∞–Ω—Å: ${balance.amount} ‚ÇΩ`;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
    </script>
</body>
</html>